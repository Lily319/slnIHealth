@model IEnumerable<prjIHealth.ViewModels.COrderViewModel>
@*@using X.PagedList.Mvc.Core;
    @using X.PagedList;*@

@{
    ViewData["Title"] = "OrderList";
    Layout = "~/Areas/Admin/Admin_Layout.cshtml";

}

<h1>訂單管理</h1>

<section class="product spad">
    <div class="container">
        <div class="row">

            <div class="col-lg-12">
                <div class="shoping__cart__table">
                    <table class="table">
                        <thead>
                            <tr>
                                <th style="margin-left:auto">
                                    編號
                                </th>
                                <th style="margin-left:auto">
                                    @Html.DisplayNameFor(model => model.FMemberId)
                                </th>
                                <th style="margin-left:auto">
                                    @Html.DisplayNameFor(model => model.FContact)
                                </th>
                                <th style="margin-left:auto">
                                    @Html.DisplayNameFor(model => model.FPhone)
                                </th>
                                <th style="margin-left:auto">
                                    @Html.DisplayNameFor(model => model.FAddress)
                                </th>
                                <th style="margin-left:auto">
                                    @Html.DisplayNameFor(model => model.FDate)
                                </th>
                                <th style="margin-left:auto">
                                    @Html.DisplayNameFor(model => model.FPaymentCategoryId)
                                </th>
                                <th style="margin-left:auto">
                                    @Html.DisplayNameFor(model => model.FStatusNumber)
                                </th>
                                <th style="margin-left:auto">
                                    @Html.DisplayNameFor(model => model.FRemarks)
                                </th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                int count = 0;
                                foreach (var item in Model)
                                {
                                    count++;
                                    <tr>
                                        <td style="margin-left:auto;text-align:center;">
                                            @count
                                            <input type="hidden" value=" @Html.DisplayFor(modelItem => item.FOrderId)" id="FOrderId" name="FOrderId" />
                                            <input type="hidden" value=" @Html.DisplayFor(modelItem => item.FMemberId)" id="FMemberId" name="FMemberId" />
                                            <input type="hidden" value=" @Html.DisplayFor(modelItem => item.FStatusNumber)" id="FStatusNumber" name="FStatusNumber" />
                                            <input type="hidden" value=" @Html.DisplayFor(modelItem => item.fstatus.FStatusNumber)" id="fstatus.FStatusNumber" name="fstatus.FStatusNumber" />
                                            <input type="hidden" value=" @Html.DisplayFor(modelItem => item.fPayment.FPaymentCategoryId)" id="fPayment.FPaymentCategoryId" name="fPayment.FPaymentCategoryId" />
                                        </td>
                                        <td style="margin-left: auto;text-align:center;">
                                            @Html.DisplayFor(modelItem => item.fmember.FMemberName)
                                        </td>
                                        <td style="margin-left: auto;text-align:center;">
                                            @Html.DisplayFor(modelItem => item.FContact)
                                        </td>
                                        <td style="margin-left: auto; text-align: center;">
                                            @Html.DisplayFor(modelItem => item.FPhone)
                                        </td>
                                        <td style="margin-left: auto; text-align: center;">
                                            @Html.DisplayFor(modelItem => item.FAddress)
                                        </td>
                                        <td style="margin-left: auto; text-align: center;">
                                            @Html.DisplayFor(modelItem => item.FDate)
                                        </td>
                                        <td style="margin-left: auto; text-align: center;">
                                            <input type="hidden" value="@Html.DisplayFor(modelItem => item.FPaymentCategoryId)" id="FPaymentCategoryId" name="FPaymentCategoryId" />
                                            @Html.DisplayFor(modelItem => item.fPayment.FPaymentCategory)
                                        </td>
                                        <td style="margin-left: auto; text-align: center;">
                                            @Html.DisplayFor(modelItem => item.fstatus.FStatus)
                                        </td>
                                        <td style="margin-left: auto; text-align: center;">
                                            @item.FRemarks.Substring(0, Math.Min(item.FRemarks.Length, 10))<br />
                                            @item.FRemarks.Substring(10, Math.Min(item.FRemarks.Length, 10))
                                        </td>
                                        <td style="margin-left: auto; text-align: center;">
                                            @Html.ActionLink("修改訂單", "OrderEdit", new { id = item.FOrderId },
                                              new { @class = "primary-btn cart-btn" })<br />
                                            @Html.ActionLink("訂單明細", "OrderdetailList", new { id = item.FOrderId },
                                              new { @class = "primary-btn cart-btn" })
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                    @*@Html.PagedListPager((IPagedList)ViewBag.OnePageOfOrder, page => Url.Action("OrderList", new { page }));*@
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts{

}

